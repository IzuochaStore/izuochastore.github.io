<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Izuocha Store — Catálogo</title>
  <link rel="icon" type="image/png" href="images/favicon.png" />

  <style>
    /* =========================================================
       Reset y variables
    ==========================================================*/
    :root{
      --text:#1a1a1a;
      --muted:#6b6b6b;
      --bg-card:#ffffff;
      --shadow:rgba(0,0,0,0.1);
      --accent-red:#C62828;      /* Precio (Deku/urgencia) */
      --accent-pink:#F4A6C0;     /* Stock (Uraraka) */
      --accent-pink-text:#5a2440;/* Texto sobre rosa suave */
      --separator:#ffffff;       /* Línea blanca */
    }
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}

    /* =========================================================
       Fondo general (cuadrado estático)
    ==========================================================*/
    body {
  font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif;
  color: var(--text);
  background-color: #fff; /* o el color que quieras de fondo */
  line-height: 1.45;
}



    /* =========================================================
       Banner superior (placeholder para cuando lo agregues)
       — ahora es una franja en blanco para que veas la separación
    ==========================================================*/
    .banner{
      width: 100%;
      min-height: 120px; /* Ajusta cuando pongas tus 3 imágenes horizontales */
      background: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
    }
    .banner .placeholder{
      color: #888;
      font-size: 0.95rem;
      letter-spacing: 0.4px;
    }

    /* Línea separadora blanca entre banner y contenido */
    .separator{
      width: 100%;
      height: 2px;
      background: var(--separator);
    }

    /* =========================================================
       Contenedor principal
    ==========================================================*/
    .container {
  padding: 20px;
  background: transparent; /* antes estaba #fff */
}


    /* Header del catálogo (título, búsqueda, etc.) */
    .header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:16px;
    }
    .header h1{
      color:#fff;
      text-shadow: 0 2px 6px rgba(0,0,0,0.35);
      font-size:1.6rem;
      font-weight:700;
    }

    /* Barra de búsqueda (opcional) */
    .search{
      display:flex;
      gap:8px;
      align-items:center;
      backdrop-filter: blur(2px);
    }
    .search input{
      height:36px;
      padding:0 10px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.35);
      background: rgba(255,255,255,0.85);
      color:#222;
      outline:none;
      width:220px;
    }
    .search button{
      height:36px;
      padding:0 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.35);
      background:#ffffff;
      color:#222;
      cursor:pointer;
    }

    /* =========================================================
       Grid de productos: 4 columnas en PC, 2 en tablet, 1 en móvil
    ==========================================================*/
    .products{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:20px;
    }

    /* =========================================================
       Tarjeta de producto (estilo Inumoon, bordes redondeados)
    ==========================================================*/
   .product-card {
  background: #fff; /* fondo sólido blanco */
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12); /* sombra suave */
  overflow: hidden;
  display: flex;
  flex-direction: column;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.product-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.18); /* sombra más marcada al hover */
}


    .product-image{
      width:100%;
      height:240px; /* Más alto para ver mejor la portada */
      overflow:hidden;
      position:relative;
    }
    .product-image img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }

    .product-info{
      padding:12px 14px 10px;
      text-align:center;
      display:flex;
      flex-direction:column;
      gap:6px;
      flex-grow:1;
    }
    .product-info .brand{
      font-size:0.88rem;
      color:#666;
    }
    .product-info .name{
      font-weight:700;
      font-size:1.02rem;
      color:#222;
    }
    .product-info .price{
      color: var(--accent-red);
      font-weight:800;
      font-size:1.02rem;
    }

    /* Bloque inferior estilo “botón” pero para stock (rosado) */
    .stock{
      background: var(--accent-pink);
      color:#fff;
      text-align:center;
      padding:10px 12px;
      font-weight:700;
      border-top: 1px solid rgba(0,0,0,0.06);
      border-bottom-left-radius:12px;
      border-bottom-right-radius:12px;
      font-size:0.98rem;
    }
    .stock.agotado{
      background:#b2b2b2;
      color:#fff;
    }

    /* =========================================================
       Modal de detalle con carrusel
    ==========================================================*/
    .modal{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.82);
      display:none;            /* se muestra en JS */
      align-items:center;
      justify-content:center;
      z-index: 999;
      padding: 24px;
    }
    .modal .sheet{
      width: min(920px, 94vw);
      max-height: 86vh;
      background:#fff;
      border-radius:14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      display:flex;
      gap:0;
      overflow:hidden;
      position:relative;
      flex-direction:column;
    }

    .modal .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom:1px solid #eee;
      background:#f7f7f7;
      padding:10px 14px;
    }
    .modal .title{
      font-weight:700;
      font-size:1.06rem;
      color:#222;
    }
    .modal .close{
      border:none;
      background:transparent;
      font-size:1.6rem;
      line-height:1;
      cursor:pointer;
      color:#777;
    }

    .modal .content{
      display:flex;
      flex-direction:row;
      gap:0;
      padding: 12px 12px 16px;
    }

    /* Carrusel */
    .carousel{
      flex: 1.15 1 0;
      position:relative;
      border-right:1px solid #eee;
      min-height: 360px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: #fafafa;
    }
    .carousel img{
      width:100%;
      height:100%;
      object-fit:contain;
      user-select:none;
      -webkit-user-drag:none;
    }
    .carousel .controls{
      position:absolute;
      inset:0;
      pointer-events:none;
    }
    .carousel .btn{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      pointer-events:auto;
      background: rgba(0,0,0,0.38);
      color:#fff;
      border:none;
      font-size:2rem;
      padding:0 12px;
      line-height: 2.2rem;
      cursor:pointer;
    }
    .carousel .btn.left{ left: 8px; }
    .carousel .btn.right{ right: 8px; }

    /* Paginación simple (dots) */
    .dots{
      position:absolute;
      bottom:8px;
      left:0; right:0;
      display:flex;
      justify-content:center;
      gap:6px;
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background:#cfcfcf;
      cursor:pointer;
      border:1px solid rgba(0,0,0,0.08);
    }
    .dot.active{ background:#666; }

    /* Panel de detalles */
    .detail{
      flex: 0.85 1 0;
      display:flex;
      flex-direction:column;
      padding: 10px 12px 12px;
      gap: 10px;
    }
    .detail .brand{
      font-size:0.88rem;
      color:#666;
    }
    .detail .name{
      font-weight:700;
      font-size:1.08rem;
      color:#222;
    }
    .detail .price{
      color: var(--accent-red);
      font-weight:800;
      font-size:1.06rem;
    }
    .detail .desc{
      font-size:0.96rem;
      color:#2a2a2a;
      white-space:pre-line;
    }
    .detail .stock{
      align-self:flex-start;
      background: var(--accent-pink);
      color:#fff;
      font-weight:700;
      padding:8px 12px;
      border-radius:8px;
      border:1px solid rgba(0,0,0,0.05);
    }
    .detail .stock.agotado{
      background:#b2b2b2;
      color:#fff;
    }

    /* =========================================================
       Responsividad
    ==========================================================*/
    @media (max-width: 1100px){
      .products{ grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 900px){
      .products{ grid-template-columns: repeat(2, 1fr); }
      .modal .sheet{ max-height: 88vh; }
      .modal .content{ flex-direction:column; }
      .carousel{ min-height: 320px; border-right:none; border-bottom:1px solid #eee; }
      .detail{ width:100%; max-width:none; }
    }
    @media (max-width: 600px){
      .products{ grid-template-columns: 1fr; }
      .product-image{ height: 220px; }
      .search input{ width: 140px; }
      .carousel{ min-height: 280px; }
    }

    /* Banner superior: altura estable */
.banner {
  min-height: 200px; /* ajusta si tu banner real es más alto */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Fondo con recorrido vertical en 16:9 empezando desde arriba */
.scroll-image {
  height: 100vh; /* o 120vh si quieres más recorrido */
  background: url("images/FondoIzuochaStoreV2.jpg") no-repeat top center;
  background-size: cover;       /* llena ancho, mantiene proporción */
  background-attachment: fixed; /* efecto de recorrido */
}



/* Neutraliza el separador final si empuja o tapa la obra */
.bottom-space {
  height: 0;
  min-height: 0;
  margin: 0;
  padding: 0;
}


/* Evita que el grid quede flotando a mitad del scroll */
.products, #productsGrid {
  margin-top: 0;
}

    
  </style>
</head>

<body>
  <!-- Banner superior -->
  <div class="banner">
    <!-- aquí va tu banner rectangular -->
  </div>

  <!-- Imagen scroll en 16:9 -->
  <div class="scroll-image"></div>

  <!-- Contenido principal -->
  <div class="container">
    <div class="header">
      <h1>Catálogo</h1>
      <div class="search">
        <input id="searchInput" type="text" placeholder="Buscar producto..." />
        <button id="searchBtn" type="button">Buscar</button>
      </div>
    </div>

    <div class="products" id="productsGrid"></div>
  </div>

  <!-- Espacio final para ver el fondo completo sin superposiciones -->
  <div class="bottom-space"></div>

  <!-- Modal de detalle -->
  <!-- (tu bloque de modal tal como lo enviaste) -->


  <!-- Modal de detalle -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="topbar">
        <div class="title" id="modalTitle">Producto</div>
        <button class="close" id="modalCloseBtn" aria-label="Cerrar">&times;</button>
      </div>

      <div class="content">
        <!-- Carrusel -->
        <div class="carousel" id="carousel">
          <img id="carouselImage" src="" alt="Imagen del producto" />
          <div class="controls">
            <button class="btn left" id="prevBtn" aria-label="Imagen anterior">&#10094;</button>
            <button class="btn right" id="nextBtn" aria-label="Imagen siguiente">&#10095;</button>
          </div>
          <div class="dots" id="dots"></div>
        </div>

        <!-- Detalles -->
        <div class="detail">
          <div class="brand" id="modalBrand">Brand</div>
          <div class="name" id="modalName">Nombre</div>
          <div class="price" id="modalPrice">$0</div>
          <div class="stock" id="modalStock">0 en Stock</div>
          <div class="desc" id="modalDesc">Descripción</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* =========================================================
       Datos de productos (5 vasos, 3 imágenes cada uno .jpg)
       Regla: 1.3 = portada + 1ra del carrusel, 2.3 = 2da, 3.3 = 3ra
    ==========================================================*/

    const products = [
  {
    id: "vaso-todoroki",
    title: "Vaso Todoroki My Hero Academia",
    brand: "Bandai 2021",
    price: "$5.000 CLP",
    stock: 1,
    images: [
      "images/VasoTodoroki1.3.jpg",
      "images/VasoTodoroki2.3.jpg",
      "images/VasoTodoroki3.3.jpg"
    ],
    description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (Categoría E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Shoto Todoroki. Capacidad 350ml. Altura: 12cm. Diámetro superior: 8cm. Plástico (polipropileno). Traído de Japón en perfecto estado. No apto para microondas, el grabado puede dañarse con agua caliente o detergentes fuertes."
  },
  {
    id: "vaso-hawks",
    title: "Vaso Hawks My Hero Academia",
    brand: "Bandai 2021",
    price: "$5.000 CLP",
    stock: 0,
    images: [
      "images/VasoHawks1.3.jpg",
      "images/VasoHawks2.3.jpg",
      "images/VasoHawks3.3.jpg"
    ],
    description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (Categoría E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Hawks. Capacidad 350ml. Altura: 12cm. Diámetro superior: 8cm. Plástico (polipropileno). Traído de Japón en perfecto estado. No apto para microondas, el grabado puede dañarse con agua caliente o detergentes fuertes."
  },
  {
    id: "vaso-bdt",
    title: "Vaso BDT My Hero Academia",
    brand: "Bandai 2021",
    price: "$5.000 CLP",
    stock: 1,
    images: [
      "images/VasoBDT1.3.jpg",
      "images/VasoBDT2.3.jpg",
      "images/VasoBDT3.3.jpg"
    ],
    description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (Categoría E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personajes: Bakugo, Deku y Todoroki. Capacidad 350ml. Altura: 12cm. Diámetro superior: 8cm. Plástico (polipropileno). Traído de Japón en perfecto estado. No apto para microondas, el grabado puede dañarse con agua caliente o detergentes fuertes."
  },
  {
    id: "vaso-rody",
    title: "Vaso Rody My Hero Academia",
    brand: "Bandai 2021",
    price: "$5.000 CLP",
    stock: 1,
    images: [
      "images/VasoRody1.3.jpg",
      "images/VasoRody2.3.jpg",
      "images/VasoRody3.3.jpg"
    ],
    description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (Categoría E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Rody. Capacidad 350ml. Altura: 12cm. Diámetro superior: 8cm. Plástico (polipropileno). Traído de Japón en perfecto estado. No apto para microondas, el grabado puede dañarse con agua caliente o detergentes fuertes."
  },
  {
    id: "vaso-bakugo",
    title: "Vaso Bakugo My Hero Academia",
    brand: "Bandai 2021",
    price: "$5.000 CLP",
    stock: 1,
    images: [
      "images/VasoBakugo1.3.jpg",
      "images/VasoBakugo2.3.jpg",
      "images/VasoBakugo3.3.jpg"
    ],
    description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (Categoría E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Katsuki Bakugo. Capacidad 350ml. Altura: 12cm. Diámetro superior: 8cm. Plástico (polipropileno). Traído de Japón en perfecto estado. No apto para microondas, el grabado puede dañarse con agua caliente o detergentes fuertes."
  }
];


    /* =========================================================
       Render del grid de productos
    ==========================================================*/
    const productsGrid = document.getElementById("productsGrid");
    function renderProducts(list){
      productsGrid.innerHTML = "";
      list.forEach(p => {
        const card = document.createElement("div");
        card.className = "product-card";
        card.innerHTML = `
          <div class="product-image">
            <img src="${p.images[0]}" alt="${p.title}">
          </div>
          <div class="product-info">
            <div class="brand">${p.brand}</div>
            <div class="name">${p.title}</div>
            <div class="price">${p.price}</div>
          </div>
          <div class="stock ${p.stock > 0 ? "" : "agotado"}">
            ${p.stock > 0 ? p.stock + " en Stock" : "Agotado"}
          </div>
        `;
        card.addEventListener("click", () => openModal(p));
        productsGrid.appendChild(card);
      });
    }
    renderProducts(products);

    /* =========================================================
       Búsqueda simple (por nombre)
    ==========================================================*/
    const searchInput = document.getElementById("searchInput");
    const searchBtn = document.getElementById("searchBtn");
    function doSearch(){
      const q = (searchInput.value || "").toLowerCase();
      if(!q){ renderProducts(products); return; }
      const filtered = products.filter(p => p.title.toLowerCase().includes(q));
      renderProducts(filtered);
    }
    searchBtn.addEventListener("click", doSearch);
    searchInput.addEventListener("keydown", (e)=>{
      if(e.key === "Enter"){ doSearch(); }
    });

    /* =========================================================
       Modal + Carrusel (teclas, flechas, swipe)
    ==========================================================*/
    const modal = document.getElementById("productModal");
    const modalTitle = document.getElementById("modalTitle");
    const modalCloseBtn = document.getElementById("modalCloseBtn");
    const modalBrand = document.getElementById("modalBrand");
    const modalName = document.getElementById("modalName");
    const modalPrice = document.getElementById("modalPrice");
    const modalStock = document.getElementById("modalStock");
    const modalDesc = document.getElementById("modalDesc");

    const carouselImg = document.getElementById("carouselImage");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const dotsEl = document.getElementById("dots");
    const carouselEl = document.getElementById("carousel");

    let currentImages = [];
    let currentIndex = 0;

    function updateDots(){
      dotsEl.innerHTML = "";
      currentImages.forEach((_, i) => {
        const dot = document.createElement("div");
        dot.className = "dot" + (i === currentIndex ? " active" : "");
        dot.addEventListener("click", () => {
          currentIndex = i;
          carouselImg.src = currentImages[currentIndex];
          updateDots();
        });
        dotsEl.appendChild(dot);
      });
    }

    function openModal(product){
      modal.style.display = "flex";
      modal.setAttribute("aria-hidden", "false");

      modalTitle.textContent = product.title;
      modalBrand.textContent = product.brand;
      modalName.textContent = product.title;
      modalPrice.textContent = product.price;
      modalStock.textContent = product.stock > 0 ? product.stock + " en Stock" : "Agotado";
      if(product.stock <= 0){ modalStock.classList.add("agotado"); } else { modalStock.classList.remove("agotado"); }
      modalDesc.textContent = product.description;

      currentImages = product.images.slice(0, 8); /* hasta 8 */
      currentIndex = 0;
      carouselImg.src = currentImages[currentIndex];
      updateDots();
    }

    function closeModal(){
      modal.style.display = "none";
      modal.setAttribute("aria-hidden", "true");
    }
    modalCloseBtn.addEventListener("click", closeModal);

    /* Flechas */
    function nextImage(){
      currentIndex = (currentIndex + 1) % currentImages.length;
      carouselImg.src = currentImages[currentIndex];
      updateDots();
    }
    function prevImage(){
      currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
      carouselImg.src = currentImages[currentIndex];
      updateDots();
    }
    nextBtn.addEventListener("click", nextImage);
    prevBtn.addEventListener("click", prevImage);

    /* Teclado dentro de modal */
    document.addEventListener("keydown", (e)=>{
      if(modal.style.display === "flex"){
        if(e.key === "ArrowRight"){ nextImage(); }
        else if(e.key === "ArrowLeft"){ prevImage(); }
        else if(e.key === "Escape"){ closeModal(); }
      }
    });

    /* Cerrar al click fuera del sheet */
    modal.addEventListener("click", (e)=>{
      const sheet = e.target.closest(".sheet");
      if(!sheet){ closeModal(); }
    });

    /* Swipe en móvil (touch) */
    let touchStartX = 0;
    let touchEndX = 0;
    const threshold = 50;
    carouselEl.addEventListener("touchstart", (e)=>{
      touchStartX = e.changedTouches[0].screenX;
    }, {passive:true});
    carouselEl.addEventListener("touchend", (e)=>{
      touchEndX = e.changedTouches[0].screenX;
      const delta = touchEndX - touchStartX;
      if(Math.abs(delta) > threshold){
        if(delta < 0){ nextImage(); } else { prevImage(); }
      }
    }, {passive:true});

    /* =========================================================
       Nota de accesibilidad básica:
       - alt en imágenes de producto: significativo para SEO/lectores
       - modal aria-hidden alterna al abrir/cerrar
    ==========================================================*/
  </script>
</body>
</html>
