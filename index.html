<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Izuocha Store â€” CatÃ¡logo</title>
  <link rel="icon" type="image/png" href="images/favicon.png" />

  <style>
    /* =========================================================
       Reset y variables
    ==========================================================*/
    :root{
      --text:#1a1a1a;
      --muted:#6b6b6b;
      --bg-card:#ffffff;
      --shadow:rgba(0,0,0,0.1);
      --accent-red:#C62828;      /* Precio (Deku/urgencia) */
      --accent-pink:#F4A6C0;     /* Stock (Uraraka) */
      --accent-pink-text:#5a2440;/* Texto sobre rosa suave */
      --separator:#ffffff;       /* LÃ­nea blanca */
    }
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%}
    
body {
  font-family: "Segoe UI", system-ui, -apple-system, Roboto, Arial, sans-serif;
  color: var(--text);
  background: url("images/FondoIzuochaStoreV2.jpg") no-repeat top center;
  background-size: 100% auto;   /* ocupa todo el ancho, altura proporcional */
  background-attachment: scroll; /* ðŸ‘ˆ se mueve con el scroll */
  line-height: 1.45;
}
    /* =========================================================
       Banner superior con imagen + buscador + redes
    ==========================================================*/
    /* Banner independiente 4:1 */


.banner {
  width: 100%;
  /* Cambiamos de 4/1 a 6/1 para que sea mÃ¡s rectangular y bajo */
  aspect-ratio: 6 / 1; 
  /* 'contain' asegura que los 4 personajes se vean completos sin cortarse */
  background: url("images/bannerIzuochaStore.jpg") no-repeat center center;
  background-size: contain; 
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  /* AÃ±adimos un color de fondo por si la imagen es mÃ¡s corta que el ancho total */
  background-color: #ffffff; 
}


.search-bar {
  display: flex;
  align-items: center;
  background: rgba(255,255,255,0.9);
  border-radius: 18px;   /* ðŸ‘ˆ menos redondo */
  width: 50%;
  max-width: 600px;
  height: 48px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.25);
  margin: -8px auto 0 auto;
  overflow: hidden;      /* ðŸ‘ˆ asegura que el botÃ³n se integre al borde */
}

/* BotÃ³n verde al final */
.search-bar button {
  flex: 0 0 70px;
  height: 100%;
  border: none;
  background: #28a745;   /* verde Deku */
  border-radius: 0 18px 18px 0; /* ðŸ‘ˆ bordes derechos menos redondos */
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

.search-bar button img {
  width: 20px;
  height: 20px;
  filter: brightness(0) invert(1); /* lupa blanca */
}


    
.search-bar select {
  flex: 0 0 120px;
  border: none;
  background: transparent;
  font-weight: 600;
  font-size: 0.95rem;
  outline: none;
  text-align-last: center; /* ðŸ‘ˆ centra el texto dentro del select */
  padding: 8px 0;          /* ðŸ‘ˆ centra verticalmente */
}



/* BUSCA ESTA PARTE EN TU CÃ“DIGO */
.search-bar input {
  flex: 1; /* Esto hace que el input crezca para ocupar todo el espacio disponible */
  /* max-width: 220px;  <--- ELIMINA O COMENTA ESTA LÃNEA */
  border: none;
  padding: 10px;
  font-size: 0.95rem;
  outline: none;
}


/* Contenedor de redes sociales */
/* Redes sociales */
.social-icons {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 50%;              /* ðŸ‘ˆ igual que la barra */
  max-width: 600px;
  margin: 40px auto 0 auto; /* ðŸ‘ˆ baja mÃ¡s las redes */
}

.social-icons img {
  width: 36px;             /* ðŸ‘ˆ tamaÃ±o controlado */
  height: 36px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.social-icons img:hover {
  transform: scale(1.1);
}

/* Fondo mural 16:12 */
.background {
  background: url("images/FondoIzuochaStoreV2.jpg") no-repeat top center;
  background-size: 100% auto;   /* ocupa todo el ancho, altura proporcional */
  background-attachment: scroll; /* se recorre con el scroll */
  width: 100%;
}

    /* LÃ­nea separadora (si la quieres visible) */
    .separator{
      width: 100%;
      height: 2px;
      background: var(--separator);
    }

    /* =========================================================
       Imagen de fondo con recorrido vertical en 16:9
    ==========================================================*/
    

    /* =========================================================
       Contenedor principal
    ==========================================================*/
    .container { padding: 20px; background: transparent; }
    .header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:16px;
    }
    .header h1{
      color:#fff;
      text-shadow: 0 2px 6px rgba(0,0,0,0.35);
      font-size:1.6rem;
      font-weight:700;
    }

    /* =========================================================
       Grid de productos
    ==========================================================*/
    .products{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:20px;
      margin-top: 0; /* evita flotado raro */
    }

    /* Tarjeta de producto */
    .product-card {
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .product-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.18);
    }
    .product-image{
      width:100%;
      height:240px;
      overflow:hidden;
      position:relative;
    }
    .product-image img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .product-info{
      padding:12px 14px 10px;
      text-align:center;
      display:flex;
      flex-direction:column;
      gap:6px;
      flex-grow:1;
    }
    .product-info .brand{ font-size:0.88rem; color:#666; }
    .product-info .name{ font-weight:700; font-size:1.02rem; color:#222; }
    .product-info .price{ color: var(--accent-red); font-weight:800; font-size:1.02rem; }

    .stock{
      background: var(--accent-pink);
      color:#fff;
      text-align:center;
      padding:10px 12px;
      font-weight:700;
      border-top: 1px solid rgba(0,0,0,0.06);
      border-bottom-left-radius:12px;
      border-bottom-right-radius:12px;
      font-size:0.98rem;
    }
    .stock.agotado{ background:#b2b2b2; color:#fff; }

    /* =========================================================
       Modal de detalle con carrusel
    ==========================================================*/
    .modal{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.82);
      display:none;
      align-items:center;
      justify-content:center;
      z-index: 999;
      padding: 24px;
    }
    .modal .sheet{
      width: min(920px, 94vw);
      max-height: 86vh;
      background:#fff;
      border-radius:14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      display:flex;
      gap:0;
      overflow:hidden;
      position:relative;
      flex-direction:column;
    }
    .modal .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      border-bottom:1px solid #eee;
      background:#f7f7f7;
      padding:10px 14px;
    }
    .modal .title{ font-weight:700; font-size:1.06rem; color:#222; }
    .modal .close{
      border:none;
      background:transparent;
      font-size:1.6rem;
      line-height:1;
      cursor:pointer;
      color:#777;
    }
    .modal .content{
      display:flex;
      flex-direction:row;
      gap:0;
      padding: 12px 12px 16px;
    }
    .carousel{
      flex: 1.15 1 0;
      position:relative;
      border-right:1px solid #eee;
      min-height: 360px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: #fafafa;
    }
    .carousel img{
      width:100%;
      height:100%;
      object-fit:contain;
      user-select:none;
      -webkit-user-drag:none;
    }
    .carousel .controls{
      position:absolute;
      inset:0;
      pointer-events:none;
    }
    .carousel .btn{
      position:absolute;
      top:50%;
      transform: translateY(-50%);
      pointer-events:auto;
      background: rgba(0,0,0,0.38);
      color:#fff;
      border:none;
      font-size:2rem;
      padding:0 12px;
      line-height: 2.2rem;
      cursor:pointer;
    }
    .carousel .btn.left{ left: 8px; }
    .carousel .btn.right{ right: 8px; }
    .dots{
      position:absolute;
      bottom:8px;
      left:0; right:0;
      display:flex;
      justify-content:center;
      gap:6px;
    }
    .dot{
      width:8px;height:8px;border-radius:50%;
      background:#cfcfcf;
      cursor:pointer;
      border:1px solid rgba(0,0,0,0.08);
    }
    .dot.active{ background:#666; }

    .detail{
      flex: 0.85 1 0;
      display:flex;
      flex-direction:column;
      padding: 10px 12px 12px;
      gap: 10px;
    }
    .detail .brand{ font-size:0.88rem; color:#666; }
    .detail .name{ font-weight:700; font-size:1.08rem; color:#222; }
    .detail .price{ color: var(--accent-red); font-weight:800; font-size:1.06rem; }
    .detail .desc{ font-size:0.96rem; color:#2a2a2a; white-space:pre-line; }
    .detail .stock{
      align-self:flex-start;
      background: var(--accent-pink);
      color:#fff;
      font-weight:700;
      padding:8px 12px;
      border-radius:8px;
      border:1px solid rgba(0,0,0,0.05);
    }
    .detail .stock.agotado{ background:#b2b2b2; color:#fff; }

    /* =========================================================
       Responsividad
    ==========================================================*/
    @media (max-width: 1100px){
      .products{ grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 900px){
      .products{ grid-template-columns: repeat(2, 1fr); }
      .modal .sheet{ max-height: 88vh; }
      .modal .content{ flex-direction:column; }
      .carousel{ min-height: 320px; border-right:none; border-bottom:1px solid #eee; }
      .detail{ width:100%; max-width:none; }
    }
    @media (max-width: 600px){
      .products{ grid-template-columns: 1fr; }
      .product-image{ height: 220px; }
      .search-bar input { width: 140px; }
      .carousel{ min-height: 280px; }
    }

    /* Espacio final para evitar solapamiento */
    .bottom-space { height: 0; min-height: 0; margin: 0; padding: 0; }
  </style>
</head>

<body>
 
<!-- Banner superior -->

<!-- Banner superior -->
<div class="banner">
  <!-- Bloque de bÃºsqueda -->
  <div class="search-bar">
  <select id="categorySelect">
    <option value="all">Animes</option>
  </select>
  <input id="searchInput" type="text" placeholder="Buscar producto..." />
  <button id="searchBtn" type="button">
    <img src="images/iconLupa.png" alt="Buscar" />
  </button>
</div>


  <!-- Ãconos de redes sociales -->
  <div class="social-icons">
  <a href="https://facebook.com" target="_blank">
    <img src="images/iconFacebook.png" alt="Facebook" />
  </a>
  <a href="https://instagram.com" target="_blank">
    <img src="images/iconInstagram.png" alt="Instagram" />
  </a>
  <a href="https://tiktok.com" target="_blank">
    <img src="images/iconTiktok.png" alt="TikTok" />
  </a>
</div>

</div>


<!-- Fondo mural 16:12 con productos encima -->
<div class="background">
  <div class="container">
    <div class="header">
      <h1>CatÃ¡logo</h1>
    </div>
    <div class="products" id="productsGrid"></div>
  </div>


    <div class="social-buttons">
      <a href="https://facebook.com" target="_blank" class="social fb">Facebook</a>
      <a href="https://instagram.com" target="_blank" class="social ig">Instagram</a>
      <a href="https://tiktok.com" target="_blank" class="social tk">TikTok</a>
    </div>
  </div>


  <!-- Contenido principal -->
  <div class="container">
    <div class="header">
      <h1>CatÃ¡logo</h1>
      <!-- Eliminado buscador duplicado dentro del header -->
    </div>

    <div class="products" id="productsGrid"></div>
  </div>

  <!-- Espacio final para ver el fondo completo sin superposiciones -->
  <div class="bottom-space"></div>

  <!-- Modal de detalle -->
  <div class="modal" id="productModal" aria-hidden="true">
    <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="topbar">
        <div class="title" id="modalTitle">Producto</div>
        <button class="close" id="modalCloseBtn" aria-label="Cerrar">&times;</button>
      </div>

      <div class="content">
        <!-- Carrusel -->
        <div class="carousel" id="carousel">
          <img id="carouselImage" src="" alt="Imagen del producto" />
          <div class="controls">
            <button class="btn left" id="prevBtn" aria-label="Imagen anterior">&#10094;</button>
            <button class="btn right" id="nextBtn" aria-label="Imagen siguiente">&#10095;</button>
          </div>
          <div class="dots" id="dots"></div>
        </div>

        <!-- Detalles -->
        <div class="detail">
          <div class="brand" id="modalBrand">Brand</div>
          <div class="name" id="modalName">Nombre</div>
          <div class="price" id="modalPrice">$0</div>
          <div class="stock" id="modalStock">0 en Stock</div>
          <div class="desc" id="modalDesc">DescripciÃ³n</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* =========================================================
       Datos de productos
       Regla nombres imÃ¡genes: 1.3 = portada/1ra, 2.3 = 2da, 3.3 = 3ra
    ==========================================================*/
    const products = [
      {
        id: "vaso-todoroki",
        title: "Vaso Todoroki My Hero Academia",
        brand: "Bandai 2021",
        price: "$5.000 CLP",
        stock: 1,
        anime: "My Hero Academia",
        images: [
          "images/VasoTodoroki1.3.jpg",
          "images/VasoTodoroki2.3.jpg",
          "images/VasoTodoroki3.3.jpg"
        ],
        description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (CategorÃ­a E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Shoto Todoroki. Capacidad 350ml. Altura: 12cm. DiÃ¡metro superior: 8cm. PlÃ¡stico (polipropileno). TraÃ­do de JapÃ³n en perfecto estado. No apto para microondas, el grabado puede daÃ±arse con agua caliente o detergentes fuertes."
      },
      {
        id: "vaso-hawks",
        title: "Vaso Hawks My Hero Academia",
        brand: "Bandai 2021",
        price: "$5.000 CLP",
        stock: 0,
        anime: "My Hero Academia",
        images: [
          "images/VasoHawks1.3.jpg",
          "images/VasoHawks2.3.jpg",
          "images/VasoHawks3.3.jpg"
        ],
        description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (CategorÃ­a E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Hawks. Capacidad 350ml. Altura: 12cm. DiÃ¡metro superior: 8cm. PlÃ¡stico (polipropileno). TraÃ­do de JapÃ³n en perfecto estado. No apto para microondas, el grabado puede daÃ±arse con agua caliente o detergentes fuertes."
      },
      {
        id: "vaso-bdt",
        title: "Vaso BDT My Hero Academia",
        brand: "Bandai 2021",
        price: "$5.000 CLP",
        stock: 1,
        anime: "My Hero Academia",
        images: [
          "images/VasoBDT1.3.jpg",
          "images/VasoBDT2.3.jpg",
          "images/VasoBDT3.3.jpg"
        ],
        description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (CategorÃ­a E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personajes: Bakugo, Deku y Todoroki. Capacidad 350ml. Altura: 12cm. DiÃ¡metro superior: 8cm. PlÃ¡stico (polipropileno). TraÃ­do de JapÃ³n en perfecto estado. No apto para microondas, el grabado puede daÃ±arse con agua caliente o detergentes fuertes."
      },
      {
        id: "vaso-rody",
        title: "Vaso Rody My Hero Academia",
        brand: "Bandai 2021",
        price: "$5.000 CLP",
        stock: 1,
        anime: "My Hero Academia",
        images: [
          "images/VasoRody1.3.jpg",
          "images/VasoRody2.3.jpg",
          "images/VasoRody3.3.jpg"
        ],
        description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (CategorÃ­a E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Rody. Capacidad 350ml. Altura: 12cm. DiÃ¡metro superior: 8cm. PlÃ¡stico (polipropileno). TraÃ­do de JapÃ³n en perfecto estado. No apto para microondas, el grabado puede daÃ±arse con agua caliente o detergentes fuertes."
      },
      {
        id: "vaso-bakugo",
        title: "Vaso Bakugo My Hero Academia",
        brand: "Bandai 2021",
        price: "$5.000 CLP",
        stock: 1,
        anime: "My Hero Academia",
        images: [
          "images/VasoBakugo1.3.jpg",
          "images/VasoBakugo2.3.jpg",
          "images/VasoBakugo3.3.jpg"
        ],
        description: "Vaso Ichiban Kuji: My Hero Academia THE MOVIE - World Heroes' Mission (CategorÃ­a E) Bandai 2021. Entrega Portal Temuco, horario conversable. Personaje: Katsuki Bakugo. Capacidad 350ml. Altura: 12cm. DiÃ¡metro superior: 8cm. PlÃ¡stico (polipropileno). TraÃ­do de JapÃ³n en perfecto estado. No apto para microondas, el grabado puede daÃ±arse con agua caliente o detergentes fuertes."
      }
    ];

    /* =========================================================
       Render del grid de productos
    ==========================================================*/
    const productsGrid = document.getElementById("productsGrid");
    function renderProducts(list){
      productsGrid.innerHTML = "";
      list.forEach(p => {
        const card = document.createElement("div");
        card.className = "product-card";
        card.innerHTML = `
          <div class="product-image">
            <img src="${p.images[0]}" alt="${p.title}">
          </div>
          <div class="product-info">
            <div class="brand">${p.brand}</div>
            <div class="name">${p.title}</div>
            <div class="price">${p.price}</div>
          </div>
          <div class="stock ${p.stock > 0 ? "" : "agotado"}">
            ${p.stock > 0 ? p.stock + " en Stock" : "Agotado"}
          </div>
        `;
        card.addEventListener("click", () => openModal(p));
        productsGrid.appendChild(card);
      });
    }
    renderProducts(products);

    /* =========================================================
       BÃºsqueda inteligente y selector de animes
    ==========================================================*/
    const searchInput = document.getElementById("searchInput");
    const searchBtn = document.getElementById("searchBtn");
    const categorySelect = document.getElementById("categorySelect");

    function updateCategories() {
      const categories = new Set(products.map(p => p.anime).filter(Boolean));
      categorySelect.innerHTML = '<option value="all">Animes</option>';
      categories.forEach(cat => {
        const opt = document.createElement("option");
        opt.value = cat;
        opt.textContent = cat;
        categorySelect.appendChild(opt);
      });
    }

    function doSearch(){
      const q = (searchInput.value || "").toLowerCase().trim();
      const selectedCat = categorySelect.value;

      let filtered = products;

      if (selectedCat !== "all") {
        filtered = filtered.filter(p => p.anime.toLowerCase().includes(selectedCat.toLowerCase()));
      }

      if (q) {
        filtered = filtered.filter(p =>
          p.title.toLowerCase().includes(q) ||
          p.anime.toLowerCase().includes(q)
        );
      }

      renderProducts(filtered);
    }

    searchBtn.addEventListener("click", doSearch);
    searchInput.addEventListener("keydown", (e)=>{
      if(e.key === "Enter"){ doSearch(); }
    });
    categorySelect.addEventListener("change", doSearch);

    updateCategories();

    /* =========================================================
       Modal + Carrusel
    ==========================================================*/
    const modal = document.getElementById("productModal");
    const modalTitle = document.getElementById("modalTitle");
    const modalCloseBtn = document.getElementById("modalCloseBtn");
    const modalBrand = document.getElementById("modalBrand");
    const modalName = document.getElementById("modalName");
    const modalPrice = document.getElementById("modalPrice");
    const modalStock = document.getElementById("modalStock");
    const modalDesc = document.getElementById("modalDesc");

    const carouselImg = document.getElementById("carouselImage");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const dotsEl = document.getElementById("dots");
    const carouselEl = document.getElementById("carousel");

    let currentImages = [];
    let currentIndex = 0;

    function updateDots(){
      dotsEl.innerHTML = "";
      currentImages.forEach((_, i) => {
        const dot = document.createElement("div");
        dot.className = "dot" + (i === currentIndex ? " active" : "");
        dot.addEventListener("click", () => {
          currentIndex = i;
          carouselImg.src = currentImages[currentIndex];
          updateDots();
        });
        dotsEl.appendChild(dot);
      });
    }

    function openModal(product){
      modal.style.display = "flex";
      modal.setAttribute("aria-hidden", "false");

      modalTitle.textContent = product.title;
      modalBrand.textContent = product.brand;
      modalName.textContent = product.title;
      modalPrice.textContent = product.price;
      modalStock.textContent = product.stock > 0 ? product.stock + " en Stock" : "Agotado";
      if(product.stock <= 0){ modalStock.classList.add("agotado"); } else { modalStock.classList.remove("agotado"); }
      modalDesc.textContent = product.description;

      currentImages = product.images.slice(0, 8);
      currentIndex = 0;
      carouselImg.src = currentImages[currentIndex];
      updateDots();
    }

    function closeModal(){
      modal.style.display = "none";
      modal.setAttribute("aria-hidden", "true");
    }
    modalCloseBtn.addEventListener("click", closeModal);

    function nextImage(){
      currentIndex = (currentIndex + 1) % currentImages.length;
      carouselImg.src = currentImages[currentIndex];
      updateDots();
    }
    function prevImage(){
      currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
      carouselImg.src = currentImages[currentIndex];
      updateDots();
    }
    nextBtn.addEventListener("click", nextImage);
    prevBtn.addEventListener("click", prevImage);

    document.addEventListener("keydown", (e)=>{
      if(modal.style.display === "flex"){
        if(e.key === "ArrowRight"){ nextImage(); }
        else if(e.key === "ArrowLeft"){ prevImage(); }
        else if(e.key === "Escape"){ closeModal(); }
      }
    });

    modal.addEventListener("click", (e)=>{
      const sheet = e.target.closest(".sheet");
      if(!sheet){ closeModal(); }
    });

    let touchStartX = 0;
    let touchEndX = 0;
    const threshold = 50;
    carouselEl.addEventListener("touchstart", (e)=>{
      touchStartX = e.changedTouches[0].screenX;
    }, {passive:true});
    carouselEl.addEventListener("touchend", (e)=>{
      touchEndX = e.changedTouches[0].screenX;
      const delta = touchEndX - touchStartX;
      if(Math.abs(delta) > threshold){
        if(delta < 0){ nextImage(); } else { prevImage(); }
      }
    }, {passive:true});
  </script>
</body>
</html>
